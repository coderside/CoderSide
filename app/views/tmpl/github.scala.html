@()

<script id="github-search-tmpl" type="text/html">
  <div class="github-search">
    <form name="search_coderguy" method="GET" action="/#/github/search">
      <input type="search" name="keywords" placeholder="Type a coder guy name !" />
      <button class="big-button gray">Search</button>
      <div class="loading"></div>
    </form>
  </div>
</script>

<script id="github-users-tmpl" type="text/html">
  <div class="github-users">
    <div class="progress-container">
      <div class="progress"></div>
    </div>
    <% if(gitHubUsers.length) { %>
    <ul>
      <% _(gitHubUsers).each(function(gitHubUser) { %>
      <li>
        <div><span class="fullname"><%= gitHubUser.fullname %></span></div>
        <div>
          <span class="username">
            <%= gitHubUser.username %>
          </span>
        </div>
        <div><span class="language"><%= gitHubUser.language %></span> guy</div>
        <div><span class="followers"><%= gitHubUser.followers %></span> followers</div>
      </li>
      <% }) %>
    </ul>
    <% } else { %>
    <p class="not-found">This guy doesn't seem to be on GitHub...</p>
    <% } %>
  </div>
</script>

<script id="github-result-tmpl" type="text/html">
  <% if(repositories.length) { %>
  <div class="github result">
    <header>
      <img src="@routes.Assets.at("images/github/logo.png")" height="30px" />
    </header>
    <% if(organizations && organizations.length) { %>
    <h1>User Organizations</h1>
    <dl>
      <% _(organizations).each(function(organization) { %>
      <dt><img src="<%= organization.avatarUrl %>" height="50px" /></dt>
      <dd><a href="<%= organization.url %>"><%= organization.login %></a></dd>
        <% _(organization.repositories).each(function(repository) { %>
        <ul>
          <li><a href="<%= repository.url %>"><%= repository.name %></a></li>
          <li><span class="description"><%= repository.description %></span></li>
          <li><span class="forks-watchers"><%= repository.forks %> forks & <%= repository.watchers %> watchers</span></li>
        </ul>
        <% }) %>
      <% }) %>
    </dl>
    <% } %>
    <h1>User Repositories</h1>
    <dl>
      <% _(repositories).each(function(repository) { %>
      <dt><h3><a href="<%= repository.url %>"><%= repository.name %></a></h3></dt>
      <dd>
        <span class="description"><%= repository.description %></span>
        <span class="forks-watchers"><%= repository.forks %> forks & <%= repository.watchers %> watchers</span>
      </dd>
      <% }) %>
    </dl>
  </div>
  <% } %>
</script>
